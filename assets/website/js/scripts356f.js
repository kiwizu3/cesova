function isValidEmailAddress(e){var t=new RegExp(/^(("[\w-+\s]+")|([\w-+]+(?:\.[\w-+]+)*)|("[\w-+\s]+")([\w-+]+(?:\.[\w-+]+)*))(@((?:[\w-+]+\.)*\w[\w-+]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][\d]\.|1[\d]{2}\.|[\d]{1,2}\.))((25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\.){2}(25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\]?$)/i);return t.test(e)}function formNewsletter(){var e=$("#form--newsletter"),t=$("#mc--email"),o="active";t.on("keyup",function(){$(this).hasClass(o)||$(this).addClass(o),""==$(this).val()&&$(this).removeClass(o)}),e.submit(function(e){e.preventDefault();var t=$('input[type="email"]',o).val();if(!t||!isValidEmailAddress(t))return!1;var o=$(this),n=$('input[type="submit"], input[type="button"]',o);$formEmail=$('input[type="email"]',o),$formLabel=$("label",o),n.prop("disabled",!0).attr("type","button"),$formLabel.addClass("transparent"),$.ajax({type:"POST",url:"",data:$(this).serialize(),success:function(e){$formEmail.addClass("transparent").removeClass("active",function(){$formLabel.removeClass("transparent")}),e.success?setTimeout(function(){$formLabel.html("thank you for subscribing!"),$formEmail.prop("disabled",!0)},400):(setTimeout(function(){$formLabel.html("error&hellip; please try again!")},400),n.prop("disabled",!1).attr("type","submit").removeAttr("value"),setTimeout(function(){$formLabel.addClass("transparent",function(){$formEmail.addClass("active").removeClass("transparent")})},1e3))}})})}function flickityNetwork(){var e=$(".type--network"),t=$(".carousel",e),o=t.data("flickity"),n=".posts",r="control--disabled",i=Math.ceil($(n,t).length/5)-1,t=t.flickity({cellSelector:".posts",cellAlign:"right",contain:!0,groupCells:!0,imagesLoaded:!0,pageDots:!1,prevNextButtons:!1,initialIndex:i}),o=t.data("flickity"),a=$(".control--next",e),c=$(".control--prev",e);a.addClass("control--disabled"),t.on("select.flickity",function(){0==o.selectedIndex&&c.addClass(r),o.selectedIndex==o.slides.length-1?(a.addClass(r),c.removeClass(r)):a.removeClass(r)}),c.click(function(){t.flickity("previous")}),a.click(function(){t.flickity("next")})}function flickityProjects(){var e=$(".type--projects"),t=$(".carousel",e),o="control--disabled",t=t.flickity({cellSelector:".project",cellAlign:"left",contain:!0,groupCells:!1,imagesLoaded:!0,pageDots:!1,prevNextButtons:!1}),n=t.data("flickity"),r=$(".control--next",e),i=$(".control--prev",e);i.addClass("control--disabled"),t.on("select.flickity",function(){var e=n.slides.length-2;breakpoint_xs&&(e=n.slides.length-1),0==n.selectedIndex?i.addClass(o):n.selectedIndex>0&&n.selectedIndex<e?(i.removeClass(o),r.removeClass(o)):r.addClass(o)}),i.click(function(){t.flickity("previous")}),r.click(function(){t.flickity("next")})}function mixItUpProjects(){var e=$(".wrapper--projects");if(e.length){var t=sessionStorage.getItem("filterSavedValue");if(void 0!==sessionstorageSupport&&1==sessionstorageSupport&&null!=t){e.mixItUp({load:{filter:t}}),$(".layout--navigation a").first().click(function(e){e.preventDefault,sessionStorage.removeItem("filterSavedValue")});var o=$(".wrapper--categories"),n="category__li--active";$(o).length&&$(".category__li--active",o).removeClass(n,function(){$('.category__li a[data-filter="'+t+'"]',o).parent().addClass(n)})}else e.mixItUp()}var r=$(".page--module .section--body .wrapper--categories");$projectsCategoryWrapper=$(".category__li",r),$projectsCategoryLink=$("a",$projectsCategoryWrapper),n="category__li--active",$projectsCategoryLink.click(function(){if($this=$(this),$("."+n,r).removeClass(n,function(){$this.parents($projectsCategoryWrapper).first().addClass(n)}),void 0!==sessionstorageSupport&&1==sessionstorageSupport){var e=$(this).data("filter");sessionStorage.setItem("filterSavedValue",e)}})}function hideCoverOnScroll(e){function t(){c=.75*n.height()}function o(){i=breakpoint_xs&&$(window).width()<$(window).height()?.25:!breakpoint_xs&&$(window).width()<$(window).height()?.3:.5}var n,r,i,a,c=!1;$("body").is(".module--projects")&&$(".section--highlight").length?(n=$(".section--highlight"),$coverWrapper=$(".wrapper--content",n),r=$(".section--body"),a=!0):$("body").is(".module--project")&&$(".section--cover").length&&(n=$(".section--cover"),$coverWrapper=$(".wrapper--cover",n),r=$(".section--body"),a=!0),1==a&&(t(),$(window).on("resize orientationchange",function(){t()}),o(),$(window).on("resize orientationchange",function(){o()}),new ScrollMagic.Scene({triggerElement:r,triggerHook:i,duration:.75*n.height()}).setTween($coverWrapper,{opacity:.7}).addTo(e))}function changeClassOnScroll(e){var t,o,n=!1;$("body").is("#layout--homepage")&&$(".section--introduction").length?(t=$(".section--introduction"),o=$(".section--introduction + .section"),n=!0):$("body").is(".module--projects")&&$(".section--highlight").length?(t=$(".section--highlight"),o=$(".section--body"),n=!0):$("body").is(".module--project")&&$(".section--cover").length&&(t=$(".section--cover"),o=$(".section--body"),n=!0),1==n&&(breakpoint_xs&&!$("body").is(".module--projects")?new ScrollMagic.Scene({triggerElement:o,triggerHook:0}).setClassToggle(t,"hidden").addTo(e):breakpoint_xs||new ScrollMagic.Scene({triggerElement:o,triggerHook:0}).setClassToggle(t,"z-index z-index--1 hidden").addTo(e))}function homepageAnimations(){function e(){var e=0;$(".layout--navigation .nav__li").each(function(t,o){e+=$(o).innerWidth()}),$("a",menu).each(function(t,o){var n,r,i=$(o).attr("href"),a="#contact",c=0;$(i).length&&setTimeout(function(){i!=a||$("body").hasClass("footer--no-reveal")&&i==a?(n=$(i).innerHeight(),r=.5,target=i):i!=a||$("body").hasClass("footer--no-reveal")||(i="#network",n=$(a).innerHeight()+$("#layout--footer").innerHeight(),r=.5,c=$(i).height()+parseInt($(i).css("padding-top"),10),target=a),breakpoint_xs||("#cropmark"==i?(c=e/2,n=$(i).innerHeight()-c):"#network"==i&&(n=$(i).height()+parseInt($(i).css("padding-top"),10))),new ScrollMagic.Scene({triggerElement:i,triggerHook:r,offset:c,duration:n}).setClassToggle('[data-target="'+target+'"]',"nav__li--active").addTo(controller),new ScrollMagic.Scene({triggerElement:i,triggerHook:r,offset:c,duration:n}).setClassToggle(target,"section--active").addTo(controller)},1e3)})}function t(){d=.5*$(window).height()}var o=$("#layout--homepage");if($(o).length){var n=$(".section--introduction",o),r=TweenMax.to(menu,1.5,{delay:1.5,opacity:1,y:0}),i=$(".wrapper--scroll-down",n),a=TweenMax.to(i,1.5,{delay:3,opacity:1,y:0});new ScrollMagic.Scene({triggerElement:n}).triggerHook("onEnter").setTween(r).addTo(controller),new ScrollMagic.Scene({triggerElement:i}).triggerHook("onEnter").setTween(a).addTo(controller),e(),$(window).on("resize orientationchange",function(){e()});var n=$(".section--introduction",o),c=$(".section--introduction + .section",o),s=$("h1",g),l=TweenMax.to(s,.8,{opacity:.4});typeIntroductionLogo=$(".logo",s),tweenIntroductionLogo=TweenMax.to(typeIntroductionLogo,.8,{opacity:1}),typeIntroductionText=$(".wrapper--text",s),tweenIntroductionText=TweenMax.to(typeIntroductionText,.4,{delay:.8,opacity:1,y:0,force3D:!0});var d;t(),$(window).on("resize orientationchange",function(){t()}),new ScrollMagic.Scene({triggerElement:c}).triggerHook(.75).duration(d).setTween(l).addTo(controller),new ScrollMagic.Scene({triggerElement:n}).triggerHook("onEnter").setTween(tweenIntroductionLogo).addTo(controller),new ScrollMagic.Scene({triggerElement:n}).triggerHook("onEnter").setTween(tweenIntroductionText).addTo(controller);var g=$(".type--webpage",o),p=$(".wrapper--header",g),u=TweenMax.to(p,1,{opacity:1,y:0}),w=$(".wrapper--body",g),h=TweenMax.to(w,1,{delay:.3,opacity:1,y:0});new ScrollMagic.Scene({triggerElement:p}).triggerHook("onEnter").setTween(u).addTo(controller),new ScrollMagic.Scene({triggerElement:w}).triggerHook("onEnter").setTween(h).addTo(controller);var m=$(".type--projects",o),y=$(".wrapper--header",m),f=TweenMax.to(y,1,{opacity:1,y:0}),v=$(".wrapper--body",m),b=TweenMax.to(v,1,{delay:.2,opacity:1,y:0}),T=$(".wrapper--footer",m),k=TweenMax.to(T,.8,{delay:.6,opacity:1,y:0}),x=$(".wrapper--controls",m),S=TweenMax.to(x,.4,{delay:1,opacity:1});new ScrollMagic.Scene({triggerElement:y}).triggerHook("onEnter").setTween(f).addTo(controller),new ScrollMagic.Scene({triggerElement:v}).triggerHook("onEnter").setTween(b).addTo(controller),new ScrollMagic.Scene({triggerElement:T}).triggerHook("onEnter").setTween(k).addTo(controller),new ScrollMagic.Scene({triggerElement:x}).triggerHook("onEnter").setTween(S).addTo(controller);var C=$(".type--team",o),M=$(".wrapper--header",C),E=TweenMax.to(M,1,{opacity:1,y:0}),H=$(".wrapper--body",C),I=TweenMax.to(H,1,{delay:.2,y:0});new ScrollMagic.Scene({triggerElement:M}).triggerHook("onEnter").setTween(E).addTo(controller),new ScrollMagic.Scene({triggerElement:H}).triggerHook("onEnter").setTween(I).addTo(controller);var _=$(".type--network",o),j=$(".wrapper--header",_),L=TweenMax.to(j,1,{opacity:1,y:0}),A=$(".wrapper--social a",_),z=TweenMax.staggerTo(A,.4,{delay:.4,opacity:1,y:0},.1),P=$(".wrapper--body",_),D=TweenMax.to(P,.6,{opacity:1,x:0}),N=$(".wrapper--controls",_),O=TweenMax.to(N,.4,{delay:1,opacity:1});new ScrollMagic.Scene({triggerElement:j}).triggerHook("onEnter").setTween(L).addTo(controller),new ScrollMagic.Scene({triggerElement:A}).triggerHook("onEnter").setTween(z).addTo(controller),new ScrollMagic.Scene({triggerElement:P}).triggerHook("onEnter").setTween(D).addTo(controller),new ScrollMagic.Scene({triggerElement:N}).triggerHook("onEnter").setTween(O).addTo(controller)}}function mobileMenu(e,t,o,n,r){var i;$("body").is(o)?i=".section--introduction + .section":$("body").is(n)?i=".section--highlight > .wrapper:first-of-type":$("body").is(r)&&(i="* + .section--body"),$(i).length&&new ScrollMagic.Scene({triggerElement:i,triggerHook:.05}).setClassToggle(t,"sticky sticky--mobile").addTo(e)}function disableFooterReveal(){var e=$("body"),t=$("#layout--footer"),o="footer footer--no-reveal";(e.is("#layout--projects")||e.is("#layout--project"))&&$("#layout--clients").outerHeight()+t.outerHeight()>$(window).height()||e.is("#layout--homepage")&&$(".section--contact").outerHeight()+t.outerHeight()>$(window).height()?e.addClass(o):e.hasClass(o)&&e.removeClass(o)}function pageDetailsMinHeight(){var e=$("body"),t=$(".section--body").first(),o=$(".section--medias").first(),n=$(".section--footer").first(),r=$(window).height()-$(t).outerHeight()-$(n).outerHeight()+"px";!$(e).is("#layout--project")||$(e).hasClass("footer--no-reveal")||$(t).hasClass("no-medias")?$(o).css("min-height",0,"important"):$(o).css("min-height",r,"important")}function footerGap(){$("body").is("#layout--homepage")?($("#layout--homepage .type--contact").css("bottom",$("#layout--footer").outerHeight()+"px"),$("#layout--main").css("padding-bottom",$("#layout--homepage .type--contact").outerHeight()+$("#layout--footer").outerHeight()+"px")):$("#layout--main").css("padding-bottom",$("#layout--clients").outerHeight()+$("#layout--footer").outerHeight()+"px")}var breakpoint_lg,breakpoint_md,breakpoint_sm,breakpoint_xs;$(window).on("resize orientationchange",function(){breakpoint_md=$(window).width()>=1400,breakpoint_md=$(window).width()>=1092&&$(window).width()<=1399,breakpoint_sm=$(window).width()>=768&&$(window).width()<=1091,breakpoint_xs=$(window).width()<768}).resize();var sessionstorageSupport=!1;!function(){var e="test",t=window.sessionStorage;try{t.setItem(e,"1"),t.removeItem(e),sessionstorageSupport=!0}catch(o){return!1}}(),window.viewportUnitsBuggyfill.init(),$(function(){var e=$(".wrapper--video, .wrapper--embed");e.each(function(){var e=$(this),t=e.find('iframe[src^="http://player.vimeo.com"], iframe[src^="http://www.youtube.com"], object, embed, iframe');t.each(function(){var e=$(this);e.attr("data-aspectRatio",this.height/this.width).removeAttr("height").removeAttr("width")})}),$(window).resize(function(){e.each(function(){var e=$(this),t=e.width(),o=e.find('iframe[src^="http://player.vimeo.com"], iframe[src^="http://www.youtube.com"], object, embed, iframe');o.each(function(){var e=$(this);e.width(t).height(t*e.attr("data-aspectRatio"))})})}).resize()}),$(document).ready(formNewsletter()),$(document).ready(function(){var e=!0;$(".scroll-off").each(function(t,o){$(o).on("tap click",function(){1==e&&($(this).removeClass("scroll-off"),e=!1)})})}),$(document).ready(flickityNetwork()),$(document).ready(flickityProjects());var isLoaded=!1;$(document).ready(function(){var e=new TimelineMax({repeat:-1});rect=".loader--website svg .rect",e.add(TweenMax.staggerFrom(rect,.2,{y:0},.15)).add(TweenMax.staggerTo(rect,.4,{y:20},.15)).add(TweenMax.staggerTo(rect,.2,{y:0},.15))}),$(document).ready(function(){function e(e,t){r++,a=r/i,TweenLite.to(s,.7,{progress:a,ease:Linear.easeNone})}function t(){a=Math.round(100*s.progress()),$(".perc").text(a+"%")}function o(){var e=new TimelineMax;e.to($(".progress"),.3,{y:100,autoAlpha:0,ease:Back.easeIn}).to($(".loader--website svg, .loader--website .perc"),.3,{y:100,autoAlpha:0,ease:Back.easeIn},.1).set($(".wrapper--loader"),{className:"-=is--loading"}).to($(".loader--website"),.7,{yPercent:100,ease:Power4.easeInOut}).set($(".loader--website"),{className:"+=is--hidden"}),isLoaded=!0,setTimeout(function(){return homepageAnimations()},500)}function n(t){$(".perc").text("0%").fadeIn(function(){0==i?($(".perc").text("100%"),setTimeout(function(){o()},200)):($("img, .wrapper--background > *").imagesLoaded({background:!0}).progress(function(t,o){e()}),t.to($(".progress span"),1,{width:100,ease:Linear.easeNone}))})}var r=0,i=$("img, .wrapper--background > *").length,a=0,c=".loader--website svg, .loader--website .perc",s=new TimelineMax({paused:!0,onUpdate:t,onComplete:o});TweenMax.to($(c),.6,{y:0,autoAlpha:1,ease:Back.easeIn,onComplete:n(s)})}),$(document).on("click",".scroll-down",function(e){var t=$(".section--body").length?$(".section--body")[0]:$(this).parent().closest(".section").next();controller.scrollTo(function(e){TweenMax.to(window,.6,{scrollTo:{y:e+1,autoKill:!1},ease:Power2.easeOut})}),$(t).length>0&&(e.preventDefault(),controller.scrollTo(t),window.history&&window.history.pushState&&$("body").is("#layout--homepage")&&history.pushState("",document.title,"#"+$(this).parent().closest(".section").next().attr("id")))}),$(document).ready(mixItUpProjects());var controller=new ScrollMagic.Controller;$(document).ready(hideCoverOnScroll(controller)),$(document).ready(changeClassOnScroll(controller)),$(window).on("resize orientationchange",function(){changeClassOnScroll(controller)});var menuClass=".layout--navigation",menu=$(menuClass),homepage=$("#layout--homepage"),module=$(".module--projects"),details=$(".module--project");$(document).ready(function(){breakpoint_xs&&mobileMenu(controller,menu,homepage,module,details)}),$(window).on("resize orientationchange",function(){breakpoint_xs&&mobileMenu(controller,menu,homepage,module,details)}),$(document).ready(function(){var e=".page--details";if($("body").is("#layout--project")&&(breakpoint_xs||(adaptActiveSection=setInterval(function(){1==isLoaded&&(clearInterval(adaptActiveSection),new ScrollMagic.Scene({triggerElement:e,triggerHook:.5,duration:$(e).height()}).setClassToggle(".layout--navigation .nav__li--active","nav__li--reverse").addTo(controller))},300)),$("body").is("[data-cover]")&&!breakpoint_xs)){var e=".page--details";adaptActiveSectionCoverColor=setInterval(function(){1==isLoaded&&(clearInterval(adaptActiveSectionCoverColor),new ScrollMagic.Scene({triggerElement:e,triggerHook:0}).setClassToggle("body","hidden--cover").addTo(controller),new ScrollMagic.Scene({triggerElement:e,triggerHook:.5,duration:$(e).height()}).setClassToggle("body","reached--body").addTo(controller))},300)}}),$(document).on("click",menuClass+' a[href^="#"]',function(e){var t=$(this).attr("href");if($(t).length>0){e.preventDefault();var o=$(".type--webpage"),n=parseInt(o.css("padding-top"),10),r=$(t).offset().top+1;"#projects"==t?r-=n:"#contact"!=t||$("body").hasClass("footer--no-reveal")?breakpoint_xs&&"#contact"==t&&$("body").hasClass("footer--no-reveal")&&(r-=$(".layout--navigation").height()):r=$(".type--network").offset().top+$(".type--network").innerHeight(),TweenMax.to(window,.6,{scrollTo:{y:r,autoKill:!1},ease:Power1.easeInOut})}}),$(document).ready(function(){$(".reveal").each(function(e,t){var o=TweenMax.to(t,.4,{opacity:1,y:0});new ScrollMagic.Scene({triggerElement:t}).triggerHook("onEnter").setTween(o).addTo(controller)})}),imgix.config.host="assets.imgix.net",imgix.config.useHttps=!0,imgix.init({srcInputAttribute:"data-ix-src",pathInputAttribute:"data-ix-path",paramsInputAttribute:"data-ix-params",hostInputAttribute:"data-ix-host"}),$(document).ready(disableFooterReveal()),$(window).on("resize orientationchange",function(){disableFooterReveal()}),$(document).ready(pageDetailsMinHeight()),$(window).on("resize orientationchange",function(){pageDetailsMinHeight()}),$(document).ready(footerGap()),$(window).on("resize orientationchange",function(){footerGap()}),$(document).ready(function(){function e(e){setTimeout(function(){window.location.href=$(e).attr("href")},700)}$(".loader--website"),$(".wrapper--loader");$('a[href^="'+location.protocol+"//"+window.location.hostname+'"]').each(function(t,o){$(o).click(function(t){t.preventDefault();var n=new TimelineMax;n.to($(".loader--website"),.7,{yPercent:0,ease:Power4.easeInOut}).set($(".loader--website"),{className:"+=is--hidden",onComplete:e(o)})})});var t=$("svg .scene")[0];new Parallax(t)});